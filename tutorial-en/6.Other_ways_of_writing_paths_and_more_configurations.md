The useDirMode mode has met the requirements of most scenarios, but some special scenarios still need to know other writing methods

The configuration involved in the following example can only be written in example-mock-api.js, and the js file generated by useDirMode mode is only used to return data.

There are many examples under example

## Get the parameters in the request

Does not distinguish between request methods

````
    "/api/function/params": {
      body: (data) => {
        return {
          params: data.params,
          message: "Automatically parse and inject parameters, you can operate request and response",
        };
      },
    },
````

localhost:9192/example/api/function/params?name='Ice Archer' will return

````
{
    params: {
        name: "Ice Archer"
    },
    message: "Automatically parse and inject parameters, you can operate request and response"
}
````

# set cookie

The maintenance of login state can be solved in this way through cookies

````
    "/api/cookies": {
      response: {
        getCookies(data = {}) {
          return {
            method: data.method,
          };
        },
      },
      body: {
        message: "The rest of the properties will be set automatically",
      },
    },
````

`{method: data.method}; method is the name of the cookie, 'data.method' is the value of the cookie, the rest of the attributes will be set by the mock server

can return multiple

# set http status code

The default status code is 200, and others can be returned.

````
    "/api/statusCode": {
      response: {
        statusCode: 500,
      },
      body: {
        color: "red",
      },
    },
````

# delay return

The mock server returns the interface very quickly. It may be inconvenient for some loading state debugging. You can set the interface to delay the return.

````
    "/api/delay": {
      response: {
        delaySeconds: 3,
      },
      body: {
        message: "This is a delayed return",
      },
    },
````

There are the following configurations in defaultConfig.js, which can be adjusted uniformly

````
    mockData: {
      response: {

        delaySeconds: 0,
      },

    },
````

## dynamic path

Currently using dynamic paths can only write data inside example-mock-api.js

````
    "/api/regexp/url/(\\w+)/(\\d+)$": {
      // /api/regexp/url/name/200
      body: (data) => ({
        color: "red",
        message: "will return the parameters on the url",
        execResults: data.execResults,
      }),
      options: {
        supportRegexp: true,
      },
    },
````

(\\w+) The left and right parentheses can be omitted, and the parameters can be read after adding them, such as http://localhost:9192/example/api/regexp/url/name/200, the return result is

````

{
    color: "red",
    message: "will return the parameters on the url",
    execResults: [
        "/api/regexp/url/name/200",
        "name",
        "200"
    ]
}
````

# Distinguishing method

When the mock server processes requests, it does not distinguish between methods by default, that is, get, post, which are in defaultConfig.js

````
    mockData: {
      options: {
        // method to ignore request when matching
        ingoreMethod: true,
      },
    },
````

Distinguish the request method configuration as follows

````
    "/api/method": {
      body: {
        get: {
          color: "red",
          message1: "The method refers to the method supported by the request",
          message2: "The returned data supports all simple modes",
        },
      },
      options: {
        ingoreMethod: false,
      },
    },
````

# store data via json or js

The useDirMode mode mainly does not want to write all the data in example-mock-api.js, there are some ways to deal with this problem without this mode

````
    "/api/function/json": {
      body: (data) => {
        return "hero.json";
      },
    },
    //js file
    "/api/js": {
      body: "able.js",
    },
    "/api/js/method": {
      body: {
        get: "able.js",
      },
      options: {
        ingoreMethod: false,
      },
    },
````

`able.js` content is as follows

````
(function () {
  return (data) => {
    return {
      params: data.params,
      message: "In addition to extracting the logic separately, the function is the same as writing the function directly",
    };
  };
})();

````