# 接口之间的依赖

比如登录接口挂了，那么就无法调用需要登录的接口，而对于某一次迭代，前端需要修改的和登录接口并无关系，只是改改 UI 而已，连对应的后台开发都没有,而登录接口可能是其它项目组在维护，或者其它迭代恰好在改动这一块。

尽管工作当中后端接口有多套环境可以部署，但往往使用哪套环境也需要多方确认，这无疑增加了不确定性。

# 接口返回数据

前端将后台返回的数据用表格展示，对于其中的一条数据存在删除、复制链接、编辑三种操作，而用户能否点击按钮，依赖 status(0,1,2)和 level(1,2,3,4,5)这两个字段，如果指望后端全面返回不同的状态数据，这无疑给自测增大了难度。

有的时候是一些 ui 展示，比如内容过多的时候要截取，标题过长要展示省略号等。

而且对于一些场景，想要后端返回对应的数据成本过高，比如一些状态很快就没了，或者需要繁琐的流程才能创建出来。

# 联调的不合理

依赖真实的接口进行开发，前端在写代码的时候处于被动，等待接口实现才能写完代码，就会出现帮助后台测试接口的操作，而这一部分又不像 bug 有专门的地方记录，质量上就很难说了，面对无意义的沟通和时间上的浪费是常有的事情。

一个表单调用提交接口报错，我反馈给后台，后台让我再点几次才把问题解决，记得针对这种场景，我还特意依附于 Chrome 浏览器去找省时间的方式(https://b23.tv/UmAfzc)，对于一些流程操作则更加麻烦。

# 总结

诚然依赖于真实接口的开发保证了提测的质量，但在这个过程中，前端投入了不必要的时间，承担过多职责，痛苦的是想要优化流程、改善体验的主动权在别人手里。

打铁还需自身硬，这个时候前端有自己的 mock 环境就可以从本质上解决大部分的问题了。

项目地址: https://github.com/xiaodun/sf-mock
